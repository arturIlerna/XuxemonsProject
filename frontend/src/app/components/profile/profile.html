<div class="profile-container">
  <h2>Informaci칩n de Usuario 游꿡</h2>
  
  @if (user) {
    <form [formGroup]="profileForm" (ngSubmit)="onUpdateProfile()" class="profile-form">
      
      <div class="form-group">
        <label>Nombre:</label>
        <input type="text" formControlName="name">
        @if (profileForm.get('name')?.invalid && profileForm.get('name')?.touched) {
          <small class="error-text">El nombre es obligatorio.</small>
        }
      </div>

      <div class="form-group">
        <label>Apellidos:</label>
        <input type="text" formControlName="lastname">
        @if (profileForm.get('lastname')?.invalid && profileForm.get('lastname')?.touched) {
          <small class="error-text">El apellido es obligatorio.</small>
        }
      </div>

      <div class="form-group">
        <label>Email:</label>
        <input type="email" formControlName="email">
        @if (profileForm.get('email')?.invalid && profileForm.get('email')?.touched) {
          <small class="error-text">Introduce un email v치lido (ej: hola@xuxedex.com).</small>
        }
      </div>

      <div class="form-group">
        <label>Nueva Contrase침a (Opcional):</label>
        <input type="password" formControlName="password" placeholder="Dejar en blanco para no cambiar">
        @if (profileForm.get('password')?.invalid && profileForm.get('password')?.touched) {
          <small class="error-text">La contrase침a debe tener al menos 6 caracteres.</small>
        }
      </div>

      <button type="submit" class="btn-save" [disabled]="profileForm.invalid">Guardar Cambios</button>
    </form>

    <hr style="margin: 30px 0; border: 0; border-top: 1px solid #e5e7eb;">

    <div class="profile-actions">
      <button routerLink="/dashboard" class="btn-back">Volver al Dashboard</button>
      <button (click)="onDeleteAccount()" class="btn-danger">Darse de Baja</button>
    </div>
  } @else {
    <p>Cargando informaci칩n...</p>
  }
</div>